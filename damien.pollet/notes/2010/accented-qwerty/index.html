<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="author">
<meta content="Website of Damien Pollet, Ph.D" name="description">
<meta content="software engineering, programming languages, reengineering, visualisation, virtual machines, object-oriented" name="keywords">
<meta content="nanoc — http://nanoc.stoneship.org" name="generator">
<link href="../../../images/icon.png" rel="icon" type="image/png">
<link href="../../../stylesheets/screen.css" media="screen,projection" rel="stylesheet" type="text/css">
<link href="../../../stylesheets/animations.css" media="screen,projection" rel="stylesheet" type="text/css">
<title>Playing Tenuki — A better Qwerty layout for accents</title>
</head>
<body>
<div class="hide" id="pagetop"><p>Skip to: <a href="#menu" accesskey="2">Site menu</a> | <a href="#main" accesskey="3">Main content</a></p></div>
<div id="container">
<div id="header">
<h1><a accesskey="4" href="../..">Playing Tenuki</a></h1>
<div id="tagline">The art of computer procrastinating:<br><em>random articles not completely unrelated to research, objects, programming, and craft.</em>
</div>
<div class="clear"> </div>
<div id="menu"><ul>
<li><a href="../../../">About me</a></li>
<li><a href="../../archives/">Archives</a></li>
<li><a href="../../tags/">Tags</a></li>
</ul></div>
<div class="clear"> </div>
</div>
<div class="hyphenate" id="main">
<h1>A better Qwerty layout for accents</h1>
<div class="right"><a href="http://www.flickr.com/photos/declanjewell/2687934126"><img alt="Apple Keyboard" src="../../images/keyboard.jpg" title="Apple Keyboard — CC-BY http://www.flickr.com/photos/declanjewell/2687934126"></a></div>

<div class="postmeta">
<span class="date">17 Apr 2010</span><span class="tags">
in
<a href="../../tags/#usability" rel="tag">usability</a>, <a href="../../tags/#hack" rel="tag">hack</a>
</span><span class="previous">
<a href="../latexmk-omnigraffle/">← previous</a>
</span><span class="next">
<a href="../tourcoing-jazz-festival/">next →</a>
</span>
</div>


<p>Like many programmers whose main language is not English, I’ve been facing the keyboard dilemma for a while:
keep my native layout even though frequent programming characters like <code>[]{}|\</code> require 2 or 3 fingers, or adopt the standard US Qwerty layout?</p>

<p>In practice, I’ve chosen Qwerty because I write a lot in English anyway, and its advantages outweight the couple of defaults and inconsistencies it does have. The problem is, I’ve recently started learning <a href="http://en.wikipedia.org/wiki/Esperanto">Esperanto</a>, which requires a dozen diacritics that are not reachable on the basic Qwerty.</p>

<p>So, I made a <a href="http://github.com/cdlm/infrastructure/blob/master/mac/Accented%20QWERTY.keylayout">layout</a> to fix that, plus a couple itches I had with the basic Qwerty layout.</p>

<h2 id="rollover--overstriking">Rollover &amp; Overstriking</h2>

<p>The problem with accessing diacritics in Qwerty is that the dead-key combinations have not been designed with rollover or overstriking in mind, as described by Jef Raskin in <a href="http://en.wikipedia.org/wiki/The_Humane_Interface"><em>The Humane Interface</em></a>:</p>

<dl>
<dt>Rollover</dt>
  <dd>A keyboard that supports rollover does not get confused when you start pressing a key before the previous one has been completely released. This is very useful for sequences of letters that are typed in a single swipe, like the <em>-ion</em> suffix.</dd>
  <dt>Overstriking</dt>
  <dd>Overstriking is when key B is pressed after, but released before key A; it’s important that the last key pressed is released first, else this is rollover. Raskin proposed that characters could be composed this way by temporally overstriking keys, like one would physically overstrike glyphs on a typewriter.</dd>
</dl>
<p>What makes accents painful with Qwerty it that they require finger-jumping, for instance to get “É”:
press option, press e, release <em>both</em>, press shift, press e, release.
Admittedly, you get used to it, but the gesture would flow better if it was just:
press shift and option, double-type e, release.</p>

<p>Actually, most of the problem was that the layout defines nothing when it’s in a dead-key mode and the option key has not been released. I just duplicated accented letters to these option-keys. Similarly, to handle accented capitals, I duplicated the dead-keys to their shift-option equivalents.</p>

<h2 id="why-keep-qwerty-what-about-alternate-keyboards">Why keep Qwerty, what about alternate keyboards?</h2>

<p>The basic Qwerty layout has many advantages:</p>

<ul>
<li>it is well-known —in fact, most of my coworkers, french or not, use it already;</li>
  <li>it’s the default with exotic hardware or system operation modes;</li>
  <li>it conveniently groups most open-close character pairs.</li>
</ul>
<p>Mac OS does have an <em>U.S. Extended</em> keyboard layout that provides more accented characters, but it has the same rollover problems, and the dead-keys are placed completely differently, invalidating muscular memory learned from the usual Qwerty.</p>

<p>Of course, there is also the solution of an entirely new keyboard layout such as <a href="http://bepo.fr">Bépo</a>, which has been designed from the ground up to fix all these problems; I might adopt it sometime, but this is too big a step for me for now. I learned <a href="http://en.wikipedia.org/wiki/Dvorak_Simplified_Keyboard">Dvorak</a> because it was only a quick <a href="http://www.flickr.com/photos/damienpollet/4302582401">keycap permutation</a> away from Qwerty; I can’t touch-type, so converting my physical keyboard is necessary, but that also frustrates anyone I lend my keyboard to.</p>

<h2 id="the-layout">The layout</h2>

<p><a href="http://github.com/cdlm/infrastructure/blob/master/mac/Accented%20QWERTY.keylayout">Download the file here</a>, then drop it into your <code>Library/Keyboard Layouts</code> directory; it should then become available from the <em>Language &amp; Text</em> preference pane. I made it using <a href="http://scripts.sil.org/ukelele">Ukelele</a>, and am releasing it under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 License</a>.</p>

<h3 id="whats-changed">What’s changed</h3>

<ul>
<li>The accent dead keys still work the same, but now also work with overlaps of shift, option, and the accented letter.</li>
  <li>The circumflex will work with the <a href="http://en.wikipedia.org/wiki/Esperanto">Esperanto</a> consonants Ĉĉ, Ĝĝ, Ĥĥ, Ĵĵ, Ŝŝ.</li>
  <li>The <a href="http://en.wikipedia.org/wiki/Breve">breve</a> for Ŭŭ is assigned to option-b.</li>
  <li>I moved some signs and greek letters around: ∆ is shift-option-d, λ is option-l, æ is option-a… this is subject to taste and future changes, so I won’t list them all precisely, but suggestions are welcome.</li>
</ul>
<h3 id="whats-still-needed">What’s still needed</h3>

<ul>
<li>An icon. I’m thinking probably a grey one like the Dvorak layout.</li>
  <li>More accents, or extended characters? Tell me which…</li>
</ul>
<div class="clear"> </div>
</div>
<div class="clear"> </div>
</div>
<div id="pagebottom">Some rights reserved. Except where otherwise noted, this website by
<a xmlns:cc="http://creativecommons.org/ns#" href="http://people.untyped.org/damien.pollet" property="cc:attributionName" rel="cc:attributionURL"></a>
is licensed under
<a rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/fr/">Creative Commons Attribution-Share Alike 2.0 France</a>.
<br>

Generated by
<a href="http://nanoc.stoneship.org">nanoc</a>,
<a href="http://www.ruby-lang.org/en/">ruby</a>,

<a href="http://sass-lang.com">sass</a>,
<a href="http://haml-lang.com">haml</a>,

<a href="http://daringfireball.net/projects/markdown/">markdown</a>,
<a href="http://kramdown.rubyforge.org">kramdown</a>,

<a href="http://slidesjs.com/">slides</a>,
<a href="http://jquery.org/">jquery</a>,
<a href="http://gsgd.co.uk/sandbox/jquery/easing/">easing</a>,

<a href="http://code.google.com/p/hyphenator/">hyphenator.js</a>…
<span class="konami" style="display:none">and
<a href="http://konami-js.googlecode.com">konami.js</a>!</span>
<br>

Last updated on 2012-10-14. 
Toggle <a id="HyphenatorToggleBox" class="donthyphenate">hy-phe-na-ti-on</a>.
<br><img alt="Creative Commons License" style="margin-top:1ex;border-width:0" src="../../../images/cc-by-sa-80x15.png"><a accesskey="1" class="hide" href="#pagetop">Back to top</a>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script><script src="../../../scripts/footnotes.js" type="text/javascript"></script><script type src="../../../scripts/jquery.easing.1.3.js"></script><script type src="../../../scripts/slides.jquery.js"></script><script type>
    $(function(){
        $('.slides.bare').slides({
            randomize: true,
            play: 30000,
            hoverPause: true,
            bigTarget: true,
            generatePagination: false,
            effect: 'fade',
            fadeSpeed: 1000,
            fadeEasing: 'easeInOutSine',
            crossfade: true
        });
    });
</script><script type="text/javascript" src="../../../scripts/hyphenator.js"></script><script type="text/javascript">
  $('#HyphenatorToggleBox').click(
    function() {
      Hyphenator.toggleHyphenation();
      if (Hyphenator.doHyphenation) {
        $('#HyphenatorToggleBox').text('hy-phe-na-ti-on');
      } else {
        $('#HyphenatorToggleBox').text('hyphenation');
      }
    });
  Hyphenator.config({
      persistentconfig: true,
      useCSS3hyphenation: true,
      selectorfunction: function() {
        return $('.hyphenation p').get();
      }
  });
  Hyphenator.run();
</script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-718463-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
